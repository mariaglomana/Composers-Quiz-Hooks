{"version":3,"sources":["AddComposerForm.js","ComposerQuiz.js","serviceWorker.js","data/composers.js","index.js"],"names":["ComposerForm","props","myFileField","React","createRef","state","name","imageUrl","works","workTemp","isPhotoDefault","onFieldChange","bind","handleSubmit","handleAddWork","onUploadImage","handleFilePicker","event","preventDefault","this","onAddComposer","setState","target","value","files","length","reader","FileReader","readAsDataURL","onload","ev","result","current","click","backgroundImage","concat","onSubmit","className","htmlFor","type","onChange","onClick","src","alt","id","ref","required","style","getPreview","map","work","key","Component","AddComposerForm","match","Hero","Work","title","Turn","composer","highlight","onAnswerSelected","backgroundColor","none","correct","wrong","highlightToBgColor","Continue","show","onContinue","Footer","href","ComposerQuiz","turnData","to","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","composers","imageSource","resetState","getTurnData","App","render","allWorks","reduce","acc","currentVal","fourRandomWorks","shuffle","slice","answer","sample","find","some","isCorrect","ComposerWrapper","withRouter","history","push","ReactDOM","exact","path","component","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b9e48958.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./AddComposerForm.scss\";\n\nclass ComposerForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myFileField = React.createRef();\n\n    this.state = {\n      name: \"\",\n      imageUrl: \"\",\n      works: [],\n      workTemp: \"\",\n      isPhotoDefault: true\n    };\n    this.onFieldChange = this.onFieldChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleAddWork = this.handleAddWork.bind(this);\n    this.onUploadImage = this.onUploadImage.bind(this);\n    this.handleFilePicker = this.handleFilePicker.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.onAddComposer(this.state);\n  }\n\n  onFieldChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  onUploadImage(event) {\n    const files = event.target.files;\n    if (files.length > 0) {\n      const reader = new FileReader();\n      reader.readAsDataURL(files[0]);\n      reader.onload = ev => {\n        this.setState({\n          imageUrl: ev.target.result,\n          isPhotoDefault: false\n        });\n      };\n    }\n  }\n\n  handleFilePicker() {\n    this.myFileField.current.click();\n  }\n\n  getPreview() {\n    return !this.state.isPhotoDefault\n      ? { backgroundImage: `url(${this.state.imageUrl})` }\n      : {};\n  }\n\n  handleAddWork(event) {\n    this.setState({\n      works: this.state.works.concat([this.state.workTemp]),\n      workTemp: \"\"\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        {/* Name */}\n        <div className=\"AddComposerForm__input\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={this.state.name}\n            onChange={this.onFieldChange}\n          />\n        </div>\n        {/* Image */}\n        <div className=\"AddComposerForm__input\">\n          <label htmlFor=\"btnAddImage\" className=\"fill__label\">\n            Image\n          </label>\n          <div className=\"fill__file-picker-wrapper\">\n            <button\n              className=\"fill__button\"\n              type=\"button\"\n              onClick={this.handleFilePicker}\n            >\n              {\" \"}\n              <img\n                src=\"/images/camera.svg\"\n                className=\"icon\"\n                alt=\"Subir imagen\"\n              />\n            </button>\n            <input\n              className=\"fill__input-file\"\n              id=\"bntFileAddImage\"\n              type=\"file\"\n              name=\"imageUrl\"\n              ref={this.myFileField}\n              // disabled={}\n              // value={this.state.imageUrl}\n\n              onChange={this.onUploadImage}\n              required\n            />\n            <div\n              className=\"fill__image-preview\"\n              style={this.getPreview()}\n            ></div>\n          </div>\n        </div>\n        {/* Works */}\n        <div className=\"AddComposerForm__input\">\n          <label htmlFor=\"workTemp\">Works</label>\n          {this.state.works.map(work => (\n            <p key={work}>{work}</p>\n          ))}{\" \"}\n          <input\n            type=\"text\"\n            name=\"workTemp\"\n            value={this.state.workTemp}\n            onChange={this.onFieldChange}\n          />\n          <input type=\"button\" value=\"+\" onClick={this.handleAddWork} />\n        </div>\n\n        <input type=\"submit\" value=\"Add\" />\n      </form>\n    );\n  }\n}\n\nfunction AddComposerForm({ match, onAddComposer }) {\n  return (\n    <div className=\"container-fluid col-10\">\n      <h1>Add composer</h1>\n      <ComposerForm onAddComposer={onAddComposer} />\n    </div>\n  );\n}\n\nexport default AddComposerForm;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./bootstrap.min.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Hero() {\n  return (\n    <div className=\"jumbotron col-10 offset-1\">\n      <h1>Composer Quiz</h1>\n      <p>Select the work written by the composer shown</p>\n    </div>\n  );\n}\n\nfunction Work({ title, onClick }) {\n  return (\n    <div\n      className=\"answer\"\n      onClick={() => {\n        onClick(title);\n      }}\n    >\n      <h4>{title}</h4>\n    </div>\n  );\n}\n\nfunction Turn({ composer, works, highlight, onAnswerSelected }) {\n  function highlightToBgColor(highlight) {\n    const mapping = {\n      none: \"\",\n      correct: \"green\",\n      wrong: \"red\"\n    };\n    return mapping[highlight];\n  }\n\n  return (\n    <div\n      className=\"row turn\"\n      style={{ backgroundColor: highlightToBgColor(highlight) }}\n    >\n      <div className=\"col-4 offset-1\">\n        <img src={composer.imageUrl} className=\"composerImage\" alt=\"Composer\" />\n      </div>\n\n      <div className=\"col-6\">\n        {works.map(title => (\n          <Work title={title} key={title} onClick={onAnswerSelected}></Work>\n        ))}\n      </div>\n    </div>\n  );\n}\nTurn.propTypes = {\n  composer: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    imageUrl: PropTypes.string.isRequired,\n    imageSource: PropTypes.string.isRequired,\n    works: PropTypes.arrayOf(PropTypes.string).isRequired\n  }),\n  works: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onAnswerSelected: PropTypes.func.isRequired,\n  highlight: PropTypes.string.isRequired\n};\n\nfunction Continue({ show, onContinue }) {\n  return (\n    <div className=\"row continue\">\n      {show ? (\n        <div className=\"col-11\">\n          <button\n            className=\"btn btn-primary btn-lg float-right continue\"\n            onClick={onContinue}\n          />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nfunction Footer() {\n  return (\n    <div id=\"footer\" className=\"row\">\n      <div className=\"col-12\">\n        <p className=\"text-muted credit\">\n          All images are from{\" \"}\n          <a href=\"http://commons.wikimedia.org/wiki/Main_Page\">\n            Wikimedia Commons\n          </a>{\" \"}\n          and are in the public domain\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction ComposerQuiz({ turnData, highlight, onAnswerSelected, onContinue }) {\n  return (\n    <div className=\"container-fluid\">\n      <Hero />\n      <Turn\n        {...turnData}\n        highlight={highlight}\n        onAnswerSelected={onAnswerSelected}\n      />\n      <Continue show={highlight === \"correct\"} onContinue={onContinue} />\n      <p>\n        <Link to=\"/add\">Add a composer</Link>\n      </p>\n      <Footer />\n    </div>\n  );\n}\n\nexport default ComposerQuiz;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const composers = [\n  {\n    name: \"Johannes Sebastian Bach\",\n    imageUrl: \"images/composers/jbach.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"Goldberg Variations\",\n      \"Suites for cello solo\",\n      \"St Matthew Passion\",\n      \"The Well-Tempered Clavier\"\n    ]\n  },\n  {\n    name: \"Giuseppe Verdi\",\n    imageUrl: \"images/composers/gverdi.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\"La traviata\", \"Aida\", \"Otello\", \"La forza del destino\"]\n  },\n  {\n    name: \"Johannes Brahms\",\n    imageUrl: \"images/composers/jbrahms.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"Double Concerto in A minor\",\n      \"Clarinet Sonata No. 2 in E♭ major\",\n      'Piano Quartet No. 3 in C minor (\"Werther Quartet\")',\n      \"Hungarian Dances\"\n    ]\n  },\n  {\n    name: \"Wolfgang Amadeus Mozart\",\n    imageUrl: \"images/composers/wamozart.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"Sinfonia Concertante for Violin, Viola and Orchestra in E♭ major\",\n      \"Le nozze di Figaro\",\n      \"Requiem Mass in D minor\",\n      \"Die Zauberflöte\"\n    ]\n  },\n  //   {\n  //     name: \"George Frideric Händel\",\n  //     imageUrl: \"images/composers/gverdi.jpg\",\n  //     imageSource: \"Wikimedia Commons\",\n  //     works: [\"La traviata\"]\n  //   },\n  //   {\n  //     name: \"Fŕedéric Chopin\",\n  //     imageUrl: \"images/composers/gverdi.jpg\",\n  //     imageSource: \"Wikimedia Commons\",\n  //     works: [\"La traviata\"]\n  //   },\n  //   {\n  //     name: \"Antonio Vivaldi\",\n  //     imageUrl: \"images/composers/gverdi.jpg\",\n  //     imageSource: \"Wikimedia Commons\",\n  //     works: [\"La traviata\"]\n  //   },\n  //   {\n  //     name: \"Joseph Haydn\",\n  //     imageUrl: \"images/composers/gverdi.jpg\",\n  //     imageSource: \"Wikimedia Commons\",\n  //     works: [\"La traviata\"]\n  //   },\n  {\n    name: \"Ludwig Van Beethoven\",\n    imageUrl: \"images/composers/lvbeethoven.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"Kreutzer Violin Sonata\",\n      \"Fidelio\",\n      \"Pastoral Symphony\",\n      \"Grosse Fugue Op.133\"\n    ]\n  },\n  {\n    name: \"Dimitri Shostakovich\",\n    imageUrl: \"images/composers/dshostakovich.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"Symphony No. 7 in C major, Leningrad\",\n      \"Viola Sonata Op. 147\",\n      \"String Quartet Node.8 in C minor op. 110: IV Largo\",\n      \"Jazz Suite No.2: VI: Watz No.2\"\n    ]\n  },\n  {\n    name: \"Pyotr Ilyich Tchaikovsky\",\n    imageUrl: \"images/composers/ptchaikovsky.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      \"The Nutcracker ballet\",\n      \"Symphony No.6 'Pathétique'\",\n      \"Variations on a Rococo Theme\",\n      \"Romeo and Juliet\"\n    ]\n  },\n  {\n    name: \"Franz Schubert\",\n    imageUrl: \"images/composers/fschubert.jpg\",\n    imageSource: \"Wikimedia Commons\",\n    works: [\n      'Sonata \"Arpeggione\"',\n      \"Winterreise Lieder\",\n      \"Piano Trio in E-Flat Major, D.929: II.Andante con moto\",\n      \"Die Schöne Müllerin\"\n    ]\n  }\n];\n\nexport default composers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport AddComposerForm from \"./AddComposerForm\";\nimport ComposerQuiz from \"./ComposerQuiz\";\nimport { shuffle, sample } from \"underscore\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter, Route, withRouter } from \"react-router-dom\";\nimport composers from \"./data/composers\";\n\nfunction resetState() {\n  return { turnData: getTurnData(composers), highlight: \"\" };\n}\n\nlet state = resetState();\n\nfunction App() {\n  return (\n    <ComposerQuiz\n      {...state}\n      onAnswerSelected={onAnswerSelected}\n      onContinue={() => {\n        state = resetState();\n        render();\n      }}\n    />\n  );\n}\n\nfunction getTurnData(composers) {\n  const allWorks = composers.reduce(function(acc, currentVal) {\n    return acc.concat(currentVal.works);\n  }, []);\n  const fourRandomWorks = shuffle(allWorks).slice(0, 4);\n  const answer = sample(fourRandomWorks);\n  return {\n    works: fourRandomWorks,\n    composer: composers.find(composer =>\n      composer.works.some(title => title === answer)\n    )\n  };\n}\n\nfunction onAnswerSelected(answer) {\n  const isCorrect = state.turnData.composer.works.some(work => work === answer);\n  state.highlight = isCorrect ? \"correct\" : \"wrong\";\n  render();\n}\n\nconst ComposerWrapper = withRouter(({ history }) => (\n  <AddComposerForm\n    onAddComposer={composer => {\n      composers.push(composer);\n      history.push(\"/\");\n    }}\n  />\n));\n\nfunction render() {\n  ReactDOM.render(\n    <BrowserRouter>\n      <>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/add\" component={ComposerWrapper} />\n      </>\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n}\n\nrender();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}